import{ResultsTemplate}from"../templates/resultsTemplate.js";export default{template:ResultsTemplate,data(){return{sortOrder:"LTH",resultsHeight:104,resultsW:!1}},computed:{compare(){return this.$store.getters.compare},initialized(){return this.$store.getters.initialized},activeProductsSize(){return this.$store.getters.products.filter(a=>a.isActive&&a.isActiveFilters).length},hiddenProducts(){return this.$store.getters.hiddenProducts},currentQuote(){return this.$store.getters.currentQuote},appliedFilters(){return this.$store.getters.appliedFilters},resultsStyle(){return{bottom:`-${this.resultsHeight}px`}},filtersWidth(){return this.$store.getters.filtersWidth},tableOffsetLeft:{get(){return this.$store.getters.tableOffsetLeft},set(a){this.$store.commit("SET_TABLE_OFFSET_LEFT",a)}},windowOffsetLeft:{get(){return this.$store.getters.windowOffsetLeft},set(a){this.$store.commit("SET_WINDOW_OFFSET_LEFT",a)}},sendFilters(){return this.$store.getters.sendFilters}},methods:{changeView(){if(this.compare)this.$store.dispatch("clearCompare");else{let a=document.getElementsByClassName("checkbox-recomm");for(let b=0;b<a.length;++b)a[b].checked=!1}this.$store.dispatch("changeView"),this.tableOffsetLeft=this.filtersWidth,this.windowOffsetLeft=0},getResultsHeight(){this.resultsHeight=document.getElementsByClassName("results")[0].clientHeight,this.$store.dispatch({type:"resultsHeight",height:this.resultsHeight}),("undefined"!=typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile"))&&$(".summary .results").offset($(".fake-results").offset())},getResultsWidth(){this.resultsW=document.getElementById("my-table").getBoundingClientRect().width>document.documentElement.clientWidth-document.getElementById("my-table").getBoundingClientRect().left},restoreHiddenProducts(){0!==this.hiddenProducts.length&&this.$store.dispatch("restoreAllHidden")},restoreLastHidden(){0!==this.hiddenProducts.length&&this.$store.dispatch("restoreLastHidden")},changeOrder(){this.$store.dispatch({type:"changeOrder",order:this.sortOrder})},closeAll(){this.$store.dispatch("reset")},closeFilter(a){this.$store.dispatch({type:"closeFilter",code:a})},easeInOutQuad(a,e,b,c){return(a/=c/2,1>a)?b/2*a*a+e:(a--,-b/2*(a*(a-2)-1)+e)},showMorePlans(){let a=document.getElementsByClassName("scrlCont")[0].scrollLeft,b=document.documentElement.clientWidth-document.getElementById("my-table").getBoundingClientRect().left-a,c=0,d=50,e=300,f=()=>{c+=d,document.getElementsByClassName("scrlCont")[0].scrollLeft=this.easeInOutQuad(c,a,b,e),document.getElementsByClassName("fScrollCont")[0].scrollLeft=this.easeInOutQuad(c,a,b,e),c<e&&setTimeout(f,d)};f(),setTimeout(()=>{document.getElementById("morePlans").style.display=0===Math.floor(document.getElementById("my-table").getBoundingClientRect().width-(document.documentElement.clientWidth-document.getElementById("my-table").getBoundingClientRect().left))?"none":"block"},300)}},updated(){this.getResultsHeight(),this.getResultsWidth()},mounted(){this.getResultsHeight(),this.getResultsWidth(),window.addEventListener("resize",this.getResultsHeight),window.addEventListener("resize",this.getResultsWidth)},beforeDestroy(){window.removeEventListener("resize",this.getResultsHeight),window.removeEventListener("resize",this.getResultsWidth)}};